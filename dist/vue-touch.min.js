!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("hammerjs"),require("vue")):"function"==typeof define&&define.amd?define(["exports","hammerjs","vue"],n):n(e.VueTouch=e.VueTouch||{},e.Hammer,e.vue)}(this,function(e,n,t){"use strict";function i(){return{type:Object,default:function(){return{}}}}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){var t=e.direction;if("string"==typeof t){var i="DIRECTION_"+t.toUpperCase();s.indexOf(t)>-1&&n.hasOwnProperty(i)?e.direction=n[i]:console.warn("[vue-touch] invalid direction: "+t)}return e}n="default"in n?n.default:n;var s=["up","down","left","right","horizontal","vertical","all"],a={pan:"pan",panstart:"pan",panmove:"pan",panend:"pan",pancancel:"pan",panleft:"pan",panright:"pan",panup:"pan",pandown:"pan",pinch:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",pinchin:"pinch",pinchout:"pinch",press:"press",pressup:"press",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe",tap:"tap"},c=function(e){return a[e]},u=function(e){return"object"==typeof e&&Object.values(e).every(function(e){return Array.isArray(e)})},p={},l=function(e){return void 0===e?p:p[e]},h=function(e,n){void 0===n&&(n={}),n.event=e,p[e]=n,e in d.props||(d.props[e]=i())},d={props:{options:i(),tap:i(),pan:i(),pinch:i(),press:i(),rotate:i(),swipe:i(),tag:{type:String,default:"div"},recognizeWith:{type:Object,default:function(){return{}},validate:u},requireFailure:{type:Object,default:function(){return{}},validate:u},enabled:{default:!0,type:[Boolean,Object]}},mounted:function(){this._events=Object.keys(this.$attrs).map(function(e,n){if(e.startsWith("on"))return e.replace(/(^on)/gi,"").toLowerCase()}).filter(function(e){return void 0!==e}),this.$isServer||(this.hammer=new n.Manager(this.$el,this.options),this.recognizers={},this.setupRecognizers(),this.setupRecognizerDependencies(),this.updateEnabled(this.enabled))},destroyed:function(){this.$isServer||this.hammer.destroy()},watch:{enabled:{deep:!0,handler:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];(t=this).updateEnabled.apply(t,e);var t}}},methods:{setupRecognizers:function(){for(var e=this,n=0,t=e._events;n<t.length;n+=1){var i=t[n];if(c(i)){e.addEvent(i),i=c(i);var r=Object.assign({},e.$options.config[i]||{},e[i]);e.addRecognizer(i,r)}else{if(!l(i))throw new Error("Unknown gesture: "+i);e.addEvent(i);var o=Object.assign({},l(i),e[i]);e.addRecognizer(i,o,{mainGesture:o.type})}}},setupRecognizerDependencies:function(){for(var e=this,n=0,t=Object.entries(e.recognizeWith);n<t.length;n+=1){var i=t[n],r=i[0],o=i[1];e.recognizers[r]&&e.recognizers[r].recognizeWith(o.map(function(n){return e.recognizers[n]}))}for(var s=0,a=Object.entries(e.requireFailure);s<a.length;s+=1){var c=a[s],u=c[0],p=c[1];e.recognizers[u]&&e.recognizers[u].requireFailure(p.map(function(n){return e.recognizers[n]}))}},addRecognizer:function(e,t,i){void 0===i&&(i={});var s=i.mainGesture;this.recognizers[e]||(this.recognizers[e]=new(n[r(s||e)])(o(t)),this.hammer.add(this.recognizers[e]))},addEvent:function(e){var n=this;this.hammer.on(e,function(t){return n.$emit(e,t)})},updateEnabled:function(e,n){var t=this;if(!0===e)this.enableAll();else if(!1===e)this.disableAll();else if("object"==typeof e)for(var i=0,r=Object.entries(e);i<r.length;i+=1){var o=r[i],s=o[0],a=o[1];t.recognizers[s]&&a?t.enable(s):t.disable(s)}},enable:function(e){var n=this.recognizers[e];n.options.enable||n.set({enable:!0})},disable:function(e){var n=this.recognizers[e];n.options.enable&&n.set({enable:!1})},toggle:function(e){var n=this.recognizers[e];n&&(n.options.enable?this.disable(e):this.enable(e))},enableAll:function(){this.setAll({enable:!0})},disableAll:function(){this.setAll({enable:!1})},setAll:function(e){for(var n=this,t=e.enable,i=0,r=Object.values(n.recognizers);i<r.length;i+=1){var o=r[i];o.options.enable!==t&&o.set({enable:t})}},isEnabled:function(e){return this.recognizers[e]&&this.recognizers[e].options.enable}},render:function(){return t.h(this.tag,{},this.$slots.default())}},f=function(e,n){void 0===n&&(n={}),!0!==f.installed&&(f.installed=!0,d.config=f.config,e.component(n.name||"v-touch",d))};f.config={};var v=function(e,n){if(f.installed)return void console.warn("\n      [vue-touch]: Custom Event '"+e+"' couldn't be added to vue-touch.\n      Custom Events have to be registered before installing the plugin.\n      ");h(e,n)},g={install:f,registerCustomEvent:v};e.default=g,e.VTouch=d,e.customEvents=l,Object.defineProperty(e,"__esModule",{value:!0})});
